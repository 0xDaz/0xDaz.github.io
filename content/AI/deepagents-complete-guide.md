---
title: "DeepAgents ì™„ë²½ ê°€ì´ë“œ: Claude Code ì•„í‚¤í…ì²˜ë¡œ ë³µì¡í•œ AI ì—ì´ì „íŠ¸ êµ¬ì¶•"
date: 2025-10-28T00:17:06+09:00
draft: false
tags: ["DeepAgents", "LangGraph", "AI Agent", "Claude Code", "Python", "LangChain", "AI"]
categories: ["AI"]
description: "Claude Codeì˜ ì•„í‚¤í…ì²˜ë¥¼ ì¼ë°˜í™”í•œ DeepAgents í”„ë ˆì„ì›Œí¬ë¡œ ë³µì¡í•œ AI ì—ì´ì „íŠ¸ë¥¼ êµ¬ì¶•í•˜ëŠ” ë°©ë²•. Planning, Sub-agents, Filesystem, Prompt ë“± í•µì‹¬ ê¸°ëŠ¥ ì™„ë²½ ì •ë¦¬"
---

## ğŸ¯ DeepAgentsë€?

DeepAgentsëŠ” Claude Codeì˜ ì•„í‚¤í…ì²˜ë¥¼ ì¼ë°˜í™”í•œ AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬. LangGraph ìœ„ì— êµ¬ì¶•ë˜ì–´ ë³µì¡í•œ ì‘ì—…ì„ íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬ ê°€ëŠ¥

### í•µì‹¬ ë¬¸ì œ

ê¸°ì¡´ ì—ì´ì „íŠ¸ëŠ” "shallow" - ë‹¨ìˆœí•œ LLM â†’ Tool ë£¨í”„ë§Œ ë°˜ë³µ
- ë³µì¡í•œ ì‘ì—… ì‹œ ì‹¤íŒ¨
- ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì˜¤ë²„í”Œë¡œìš°
- ì‘ì—… ì¶”ì  ë¶ˆê°€
- í•˜ìœ„ ì‘ì—… ìœ„ì„ ë¶ˆê°€

### ì˜ê°ì˜ ì›ì²œ

- **Claude Code**: ì²´ê³„ì ì¸ ì‘ì—… ë¶„í•´ì™€ íŒŒì¼ ì‹œìŠ¤í…œ í™œìš©
- **Deep Research**: ë³µì¡í•œ ë¦¬ì„œì¹˜ ì‘ì—… ì²˜ë¦¬
- **Manus**: ì „ë¬¸í™”ëœ í•˜ìœ„ ì—ì´ì „íŠ¸ í™œìš©

### 4ê°€ì§€ í•µì‹¬ ìš”ì†Œ

1. **Planning Tool** - ì‘ì—…ì„ ì²´ê³„ì ìœ¼ë¡œ ë¶„í•´í•˜ê³  ì¶”ì 
2. **Sub-agents** - ì „ë¬¸í™”ëœ í•˜ìœ„ ì—ì´ì „íŠ¸ë¡œ ì‘ì—… ìœ„ì„
3. **File System** - ì»¨í…ìŠ¤íŠ¸ ì˜¤í”„ë¡œë“œì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬
4. **Detailed Prompt** - ë„ë©”ì¸ë³„ë¡œ ìµœì í™”ëœ ìƒì„¸ í”„ë¡¬í”„íŠ¸

---

## ğŸ” ê¸°ì¡´ Agent vs Deep Agent

### ê¸°ì¡´ Agent (Shallow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User Query                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      LLM      â”‚â—„â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
            â”‚           â”‚
            â–¼           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚     Tool      â”‚â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¬¸ì œì :
- ë‹¨ìˆœ ë°˜ë³µ ë£¨í”„
- ì‘ì—… ë¶„í•´ ì—†ìŒ
- ì»¨í…ìŠ¤íŠ¸ ì˜¤ë²„í”Œë¡œìš°
- ì§„í–‰ ìƒí™© ì¶”ì  ë¶ˆê°€
```

### Deep Agent

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User Query                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Planning Tool   â”‚
    â”‚  (ì‘ì—… ë¶„í•´)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Filesystem       â”‚
    â”‚  (ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Main Agent       â”‚â—„â”€â”€â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
             â”‚                   â”‚
             â–¼                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚   Sub-agent        â”‚â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚  (ì „ë¬¸í™”ëœ ì‘ì—…)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¥ì :
âœ“ ì²´ê³„ì  ì‘ì—… ë¶„í•´
âœ“ ì»¨í…ìŠ¤íŠ¸ ê²©ë¦¬
âœ“ ì§„í–‰ ìƒí™© ì¶”ì 
âœ“ ì „ë¬¸í™”ëœ ì²˜ë¦¬
```

---

## ğŸ› ï¸ 4ê°€ì§€ í•µì‹¬ ê¸°ëŠ¥

### 1ï¸âƒ£ Planning Tool

`write_todos` ë„êµ¬ë¡œ ì‘ì—…ì„ ì²´ê³„ì ìœ¼ë¡œ ë¶„í•´í•˜ê³  ì¶”ì 

**ì˜ˆì‹œ: Todo ë¦¬ìŠ¤íŠ¸**
```python
[
    {
        "content": "DeepAgents ë¬¸ì„œ ë¶„ì„",
        "status": "completed",
        "activeForm": "DeepAgents ë¬¸ì„œ ë¶„ì„ ì¤‘"
    },
    {
        "content": "í•µì‹¬ ê¸°ëŠ¥ ìš”ì•½",
        "status": "in_progress",
        "activeForm": "í•µì‹¬ ê¸°ëŠ¥ ìš”ì•½ ì¤‘"
    },
    {
        "content": "ì½”ë“œ ì˜ˆì œ ì‘ì„±",
        "status": "pending",
        "activeForm": "ì½”ë“œ ì˜ˆì œ ì‘ì„± ì¤‘"
    }
]
```

**ì¥ì **
- ë³µì¡í•œ ì‘ì—…ì„ ê´€ë¦¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë¡œ ë¶„í•´
- ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ì¶”ì 
- ì¤‘ê°„ ê²°ê³¼ ì €ì¥ìœ¼ë¡œ ì¬ì‹œì‘ ìš©ì´

---

### 2ï¸âƒ£ File System

4ê°€ì§€ íŒŒì¼ ë„êµ¬ë¡œ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬

```python
# íŒŒì¼ ì‹œìŠ¤í…œ ë„êµ¬
- ls()              # íŒŒì¼ ëª©ë¡ ì¡°íšŒ
- read_file(path)   # íŒŒì¼ ì½ê¸°
- write_file(path, content)  # íŒŒì¼ ì“°ê¸°
- edit_file(path, old, new)  # íŒŒì¼ í¸ì§‘
```

**ëª©ì **
- ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì˜¤ë²„í”Œë¡œìš° ë°©ì§€
- ì¥ê¸° ë©”ëª¨ë¦¬ë¡œ í™œìš©
- ì¤‘ê°„ ê²°ê³¼ ì €ì¥

**ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ**
```
1. ë¦¬ì„œì¹˜ ì‹œì‘
   â†“
2. write_file("research_plan.txt", "...")
   â†“
3. ê° í•­ëª© ì¡°ì‚¬
   â†“
4. write_file("findings_1.txt", "...")
   â†“
5. ëª¨ë“  íŒŒì¼ ì½ê³  ì¢…í•©
   â†“
6. write_file("final_report.txt", "...")
```

**ë©”ëª¨ë¦¬ êµ¬ë¶„**
- **ë‹¨ê¸° ë©”ëª¨ë¦¬**: ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ (ìë™ ê´€ë¦¬)
- **ì¥ê¸° ë©”ëª¨ë¦¬**: íŒŒì¼ ì‹œìŠ¤í…œ (ëª…ì‹œì  ì €ì¥)

---

### 3ï¸âƒ£ Sub Agents

`task` ë„êµ¬ë¡œ ì „ë¬¸í™”ëœ í•˜ìœ„ ì—ì´ì „íŠ¸ ìƒì„±

**ì»¨í…ìŠ¤íŠ¸ ê²©ë¦¬ + ì „ë¬¸í™”**
```
Main Agent
    â”‚
    â”œâ”€â–º Sub-agent 1 (Research)
    â”‚       â””â”€â–º íŠ¹ì • ì£¼ì œ ì‹¬ì¸µ ì¡°ì‚¬
    â”‚
    â”œâ”€â–º Sub-agent 2 (Coding)
    â”‚       â””â”€â–º ì½”ë“œ ì‘ì„± ë° í…ŒìŠ¤íŠ¸
    â”‚
    â””â”€â–º Sub-agent 3 (Writing)
            â””â”€â–º ë¬¸ì„œ ì‘ì„± ë° í¸ì§‘
```

**ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Main Agent        â”‚
â”‚  "AI ì—ì´ì „íŠ¸ ì¡°ì‚¬"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â–º task("LangChain ì¡°ì‚¬", research_agent)
           â”‚      â””â”€â–º "LangChainì€..."
           â”‚
           â”œâ”€â”€â–º task("LangGraph ì¡°ì‚¬", research_agent)
           â”‚      â””â”€â–º "LangGraphëŠ”..."
           â”‚
           â””â”€â”€â–º task("ë¹„êµ ë¶„ì„", analysis_agent)
                  â””â”€â–º "ë‘ í”„ë ˆì„ì›Œí¬ì˜ ì°¨ì´ëŠ”..."
```

**ì¥ì **
- ê° í•˜ìœ„ ì—ì´ì „íŠ¸ëŠ” ë…ë¦½ì  ì»¨í…ìŠ¤íŠ¸
- ì „ë¬¸í™”ëœ ë„êµ¬ì™€ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
- ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥

---

### 4ï¸âƒ£ Detailed Prompt

Claude Codeì˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ê¸°ë°˜

**êµ¬ì¡°**
```python
system_prompt = """
ë‹¹ì‹ ì€ [ì—­í• ]ì…ë‹ˆë‹¤.

## ëª©í‘œ
[êµ¬ì²´ì ì¸ ëª©í‘œ]

## ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬
[ë„êµ¬ ëª©ë¡ê³¼ ì‚¬ìš©ë²•]

## ì‘ì—… í”„ë¡œì„¸ìŠ¤
1. [ë‹¨ê³„ 1]
2. [ë‹¨ê³„ 2]
...

## ì œì•½ì‚¬í•­
- [ì œì•½ì‚¬í•­ 1]
- [ì œì•½ì‚¬í•­ 2]

## ì˜ˆì‹œ
[êµ¬ì²´ì ì¸ ì˜ˆì‹œ]
"""
```

**ë„ë©”ì¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•**
- Research Agent: ì •ë³´ ìˆ˜ì§‘ ë° ë¶„ì„ì— ì§‘ì¤‘
- Coding Agent: ì½”ë“œ ì‘ì„± ë° í…ŒìŠ¤íŠ¸ ê°•ì¡°
- Writing Agent: ëª…í™•í•˜ê³  ì²´ê³„ì ì¸ ë¬¸ì„œ ì‘ì„±

---

## ğŸš€ ì„¤ì¹˜ ë° ê¸°ë³¸ ì‚¬ìš©ë²•

### ì„¤ì¹˜

```bash
# pip ì‚¬ìš©
pip install deep-agents

# uv ì‚¬ìš© (ê¶Œì¥)
uv pip install deep-agents

# poetry ì‚¬ìš©
poetry add deep-agents
```

### ê¸°ë³¸ ì˜ˆì œ: ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸

#### 1ë‹¨ê³„: ë„êµ¬ ì •ì˜

```python
from langchain_core.tools import tool

@tool
def search(query: str) -> str:
    """ì›¹ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤."""
    # ì‹¤ì œ ê²€ìƒ‰ API í˜¸ì¶œ
    return f"'{query}'ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼..."

@tool
def scrape(url: str) -> str:
    """ì›¹í˜ì´ì§€ë¥¼ ìŠ¤í¬ë˜í•‘í•©ë‹ˆë‹¤."""
    # ì‹¤ì œ ìŠ¤í¬ë˜í•‘ ë¡œì§
    return f"{url}ì˜ ë‚´ìš©..."
```

#### 2ë‹¨ê³„: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

```python
system_prompt = """
ë‹¹ì‹ ì€ ì „ë¬¸ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

## ëª©í‘œ
ì£¼ì–´ì§„ ì£¼ì œì— ëŒ€í•´ ì² ì €íˆ ì¡°ì‚¬í•˜ê³  ì¢…í•©ì ì¸ ë³´ê³ ì„œ ì‘ì„±

## í”„ë¡œì„¸ìŠ¤
1. ì£¼ì œ ë¶„ì„ ë° ì‘ì—… ë¶„í•´ (write_todos ì‚¬ìš©)
2. ê° í•˜ìœ„ ì£¼ì œë³„ë¡œ ì •ë³´ ìˆ˜ì§‘ (search, scrape ì‚¬ìš©)
3. ì¤‘ê°„ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ì €ì¥ (write_file ì‚¬ìš©)
4. ëª¨ë“  ì •ë³´ë¥¼ ì¢…í•©í•˜ì—¬ ìµœì¢… ë³´ê³ ì„œ ì‘ì„±

## ì œì•½ì‚¬í•­
- ëª¨ë“  ì •ë³´ì˜ ì¶œì²˜ë¥¼ ëª…ì‹œ
- ê°ê´€ì ì´ê³  ê· í˜•ì¡íŒ ì‹œê° ìœ ì§€
- ì¤‘ìš”í•œ ë°œê²¬ì€ ë°˜ë“œì‹œ íŒŒì¼ë¡œ ì €ì¥
"""
```

#### 3ë‹¨ê³„: Agent ìƒì„±

```python
from deep_agents import Agent

agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[search, scrape],
    system_prompt=system_prompt
)
```

#### 4ë‹¨ê³„: ì‹¤í–‰

```python
result = agent.invoke(
    "DeepAgents í”„ë ˆì„ì›Œí¬ì— ëŒ€í•´ ì¡°ì‚¬í•˜ê³  ë³´ê³ ì„œ ì‘ì„±"
)

print(result["messages"][-1].content)
```

### ë‚´ë¶€ ë™ì‘ í”Œë¡œìš°

```
User: "DeepAgents ì¡°ì‚¬"
    â†“
[Planning]
Agent: write_todos([
    "DeepAgents ë¬¸ì„œ ì°¾ê¸°",
    "í•µì‹¬ ê¸°ëŠ¥ ë¶„ì„",
    "ì˜ˆì œ ì½”ë“œ ìˆ˜ì§‘",
    "ë³´ê³ ì„œ ì‘ì„±"
])
    â†“
[Task 1]
Agent: search("DeepAgents framework")
    â†’ write_file("docs.txt", "...")
    â†“
[Task 2]
Agent: read_file("docs.txt")
    â†’ í•µì‹¬ ê¸°ëŠ¥ ì¶”ì¶œ
    â†’ write_file("features.txt", "...")
    â†“
[Task 3]
Agent: search("DeepAgents examples")
    â†’ write_file("examples.txt", "...")
    â†“
[Task 4]
Agent: read_file("docs.txt")
       read_file("features.txt")
       read_file("examples.txt")
    â†’ ì¢…í•© ë¶„ì„
    â†’ write_file("final_report.txt", "...")
```

---

## ğŸ§© Middleware ì•„í‚¤í…ì²˜

DeepAgentsëŠ” ëª¨ë“ˆì‹ ë¯¸ë“¤ì›¨ì–´ êµ¬ì¡° ì±„íƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          User Input                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     TodoListMiddleware              â”‚
â”‚  - write_todos tool                 â”‚
â”‚  - ì‘ì—… ë¶„í•´ ë° ì¶”ì                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FilesystemMiddleware             â”‚
â”‚  - ls, read_file, write_file, edit  â”‚
â”‚  - ì»¨í…ìŠ¤íŠ¸ ì˜¤í”„ë¡œë“œ                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SubAgentMiddleware               â”‚
â”‚  - task tool                        â”‚
â”‚  - í•˜ìœ„ ì—ì´ì „íŠ¸ ì‹¤í–‰               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Core Agent Logic              â”‚
â”‚  - LLM + Custom Tools               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### TodoListMiddleware

ì‘ì—… ë¶„í•´ ë° ì¶”ì  ë‹´ë‹¹

```python
from deep_agents.middleware import TodoListMiddleware

# ìë™ìœ¼ë¡œ write_todos ë„êµ¬ ì¶”ê°€
middleware = TodoListMiddleware()

# Todo ë¦¬ìŠ¤íŠ¸ êµ¬ì¡°
{
    "content": "ì‘ì—… ë‚´ìš©",           # ë¬´ì—‡ì„ í•  ê²ƒì¸ê°€
    "status": "pending",             # pending/in_progress/completed
    "activeForm": "ì‘ì—… ë‚´ìš© ìˆ˜í–‰ ì¤‘" # ì§„í–‰ ì¤‘ì¼ ë•Œ í‘œì‹œ
}
```

**ê¸°ëŠ¥**
- `write_todos(todos: list)` ë„êµ¬ ì œê³µ
- ì§„í–‰ ìƒí™© ìë™ ì¶”ì 
- í˜„ì¬ ìƒíƒœë¥¼ ë©”ì‹œì§€ë¡œ í‘œì‹œ

---

### FilesystemMiddleware

íŒŒì¼ ì‹œìŠ¤í…œ ê´€ë¦¬ ë‹´ë‹¹

```python
from deep_agents.middleware import FilesystemMiddleware

# 4ê°€ì§€ íŒŒì¼ ë„êµ¬ ìë™ ì¶”ê°€
middleware = FilesystemMiddleware(
    workspace_dir="./workspace"  # ì‘ì—… ë””ë ‰í† ë¦¬
)

# ì œê³µë˜ëŠ” ë„êµ¬
- ls()                          # íŒŒì¼ ëª©ë¡
- read_file(path: str)          # íŒŒì¼ ì½ê¸°
- write_file(path: str, content: str)  # íŒŒì¼ ì“°ê¸°
- edit_file(path: str, old: str, new: str)  # íŒŒì¼ í¸ì§‘
```

**ë©”ëª¨ë¦¬ êµ¬ë¶„**
- **ë‹¨ê¸° ë©”ëª¨ë¦¬** (Short-term): ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬
  - ìµœê·¼ ëŒ€í™” ë‚´ìš©
  - ìë™ìœ¼ë¡œ ê´€ë¦¬ë¨
  - ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì œí•œ ìˆìŒ

- **ì¥ê¸° ë©”ëª¨ë¦¬** (Long-term): íŒŒì¼ ì‹œìŠ¤í…œ
  - ì¤‘ìš”í•œ ì •ë³´ ì˜êµ¬ ì €ì¥
  - ëª…ì‹œì ìœ¼ë¡œ ì €ì¥ í•„ìš”
  - ìš©ëŸ‰ ì œí•œ ì—†ìŒ

**ì‚¬ìš© íŒ¨í„´**
```python
# 1. ì¤‘ê°„ ê²°ê³¼ ì €ì¥
write_file("research_notes.txt", "...")

# 2. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì½ê¸°
notes = read_file("research_notes.txt")

# 3. ë‚´ìš© ì—…ë°ì´íŠ¸
edit_file("research_notes.txt",
          "old content",
          "new content")
```

---

### SubAgentMiddleware

í•˜ìœ„ ì—ì´ì „íŠ¸ ê´€ë¦¬ ë‹´ë‹¹

```python
from deep_agents.middleware import SubAgentMiddleware

# task ë„êµ¬ ìë™ ì¶”ê°€
middleware = SubAgentMiddleware(
    subagents={
        "research": research_agent,
        "coding": coding_agent,
        "writing": writing_agent
    }
)

# ì‚¬ìš©ë²•
task(
    instruction="LangChainì— ëŒ€í•´ ì¡°ì‚¬",
    agent_name="research"
)
```

**ì»¨í…ìŠ¤íŠ¸ ê²©ë¦¬**
```
Main Agent (Context A)
    â”‚
    â”œâ”€â–º Sub-agent 1 (Context B)
    â”‚       - ë…ë¦½ì ì¸ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬
    â”‚       - ë…ë¦½ì ì¸ íŒŒì¼ ì‹œìŠ¤í…œ
    â”‚
    â””â”€â–º Sub-agent 2 (Context C)
            - ë…ë¦½ì ì¸ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬
            - ë…ë¦½ì ì¸ íŒŒì¼ ì‹œìŠ¤í…œ
```

**ì¥ì **
- ê° í•˜ìœ„ ì—ì´ì „íŠ¸ëŠ” ê¹¨ë—í•œ ì»¨í…ìŠ¤íŠ¸ë¡œ ì‹œì‘
- ë¶ˆí•„ìš”í•œ ì •ë³´ë¡œ í˜¼ë€ ë°©ì§€
- ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥

---

## ğŸ”§ ê³ ê¸‰ ê¸°ëŠ¥

### 1ï¸âƒ£ SubAgent ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### ë°©ë²• 1: ë”•ì…”ë„ˆë¦¬ ë°©ì‹

```python
from deep_agents import Agent

# í•˜ìœ„ ì—ì´ì „íŠ¸ ì •ì˜
research_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[search, scrape],
    system_prompt="ì „ë¬¸ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸..."
)

coding_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[run_code, test_code],
    system_prompt="ì „ë¬¸ ì½”ë”© ì—ì´ì „íŠ¸..."
)

# ë©”ì¸ ì—ì´ì „íŠ¸ì— ë“±ë¡
main_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[],
    subagents={
        "research": research_agent,
        "coding": coding_agent
    }
)
```

#### ë°©ë²• 2: CompiledSubAgent (ê³ ê¸‰)

ì§ì ‘ LangGraph ê·¸ë˜í”„ ì œê³µ

```python
from deep_agents import Agent, CompiledSubAgent

# ì»¤ìŠ¤í…€ LangGraph ê·¸ë˜í”„ ìƒì„±
custom_graph = create_custom_graph()
compiled = custom_graph.compile()

# CompiledSubAgentë¡œ ê°ì‹¸ê¸°
custom_subagent = CompiledSubAgent(
    name="custom",
    graph=compiled
)

# ë©”ì¸ ì—ì´ì „íŠ¸ì— ë“±ë¡
main_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    subagents={
        "custom": custom_subagent
    }
)
```

---

### 2ï¸âƒ£ ì¥ê¸° ë©”ëª¨ë¦¬ (Long-term Memory)

Storeë¥¼ ì‚¬ìš©í•œ ìŠ¤ë ˆë“œ ê°„ ë©”ëª¨ë¦¬ ê³µìœ 

```python
from deep_agents import Agent
from langgraph.checkpoint.memory import MemorySaver

# Store ìƒì„±
store = MemorySaver()

# Agent ìƒì„± ì‹œ store ì „ë‹¬
agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[search],
    store=store
)

# ì²« ë²ˆì§¸ ëŒ€í™”
result1 = agent.invoke(
    "DeepAgentsì— ëŒ€í•´ ì¡°ì‚¬",
    config={"configurable": {"thread_id": "1"}}
)

# ë‘ ë²ˆì§¸ ëŒ€í™” (ê°™ì€ thread_id)
result2 = agent.invoke(
    "ì´ì „ ì¡°ì‚¬ ë‚´ìš© ìš”ì•½í•´ì¤˜",
    config={"configurable": {"thread_id": "1"}}
)
# â†’ ì²« ë²ˆì§¸ ëŒ€í™” ë‚´ìš© ê¸°ì–µí•¨
```

**Storeì˜ ì¥ì **
- ìŠ¤ë ˆë“œ ê°„ ìƒíƒœ ê³µìœ 
- ì˜êµ¬ì ì¸ ë©”ëª¨ë¦¬
- ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—”ë“œ ì‚¬ìš© ê°€ëŠ¥

---

### 3ï¸âƒ£ Human-in-the-Loop

ì‚¬ëŒì˜ ê²€í† ê°€ í•„ìš”í•œ ì§€ì ì—ì„œ ì¤‘ë‹¨

```python
agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[dangerous_tool],
    interrupt_on=["dangerous_tool"]  # ì´ ë„êµ¬ í˜¸ì¶œ ì „ ì¤‘ë‹¨
)

# ì‹¤í–‰
for chunk in agent.stream("ìœ„í—˜í•œ ì‘ì—… ìˆ˜í–‰"):
    print(chunk)
    # dangerous_tool í˜¸ì¶œ ì „ì— ì¤‘ë‹¨ë¨

# ìƒíƒœ í™•ì¸
state = agent.get_state(config)

# ìŠ¹ì¸ í›„ ì¬ê°œ
agent.update_state(config, {"approved": True})
result = agent.invoke(None, config)  # ì¬ê°œ
```

**ì›Œí¬í”Œë¡œìš°**
```
User: "ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ"
    â†“
Agent: dangerous_tool("DELETE * FROM users")
    â†“
[INTERRUPT]
    â†“
System: "ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
    â†“
User: "ìŠ¹ì¸" / "ê±°ë¶€"
    â†“
[RESUME] / [CANCEL]
```

**ì‚¬ìš© ì˜ˆì‹œ**
```python
# ìœ„í—˜í•œ ì‘ì—…
- íŒŒì¼ ì‚­ì œ
- ë°ì´í„°ë² ì´ìŠ¤ ìˆ˜ì •
- API í˜¸ì¶œ (ë¹„ìš© ë°œìƒ)
- ì´ë©”ì¼ ì „ì†¡

# ì¤‘ìš”í•œ ê²°ì •
- ì½”ë“œ ë°°í¬
- ë¦¬í¬íŠ¸ ì œì¶œ
- ê²°ì œ ì§„í–‰
```

---

### 4ï¸âƒ£ MCP í†µí•©

Model Context Protocol ë„êµ¬ ì‚¬ìš©

```python
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

# MCP ì„œë²„ ì—°ê²°
server_params = StdioServerParameters(
    command="uvx",
    args=["mcp-server-fetch"]
)

async def create_agent_with_mcp():
    async with stdio_client(server_params) as (read, write):
        async with ClientSession(read, write) as session:
            await session.initialize()

            # MCP ë„êµ¬ ê°€ì ¸ì˜¤ê¸°
            tools = await session.list_tools()

            # Agent ìƒì„±
            agent = Agent(
                model="claude-3-5-sonnet-20241022",
                tools=tools
            )

            # ì‹¤í–‰
            result = await agent.ainvoke(
                "ì›¹í˜ì´ì§€ ê°€ì ¸ì˜¤ê¸°"
            )
```

**MCP ì„œë²„ ì˜ˆì‹œ**
- `mcp-server-fetch`: ì›¹ í˜ì´ì§€ ê°€ì ¸ì˜¤ê¸°
- `mcp-server-filesystem`: íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼
- `mcp-server-sqlite`: SQLite ë°ì´í„°ë² ì´ìŠ¤
- `mcp-server-github`: GitHub API

**ì¥ì **
- í‘œì¤€í™”ëœ ë„êµ¬ ì¸í„°í˜ì´ìŠ¤
- ë‹¤ì–‘í•œ ì™¸ë¶€ ì„œë¹„ìŠ¤ í†µí•©
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬

---

## ğŸ’¡ ì‹¤ì „ ì˜ˆì œ: ë³µì¡í•œ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸

ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ë³´ì—¬ì£¼ëŠ” ì¢…í•© ì˜ˆì œ

### ë„êµ¬ ì •ì˜

```python
from langchain_core.tools import tool
from langchain_community.tools import DuckDuckGoSearchRun

@tool
def search(query: str) -> str:
    """ì›¹ ê²€ìƒ‰ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤."""
    ddg = DuckDuckGoSearchRun()
    return ddg.run(query)

@tool
def scrape(url: str) -> str:
    """ì›¹í˜ì´ì§€ë¥¼ ìŠ¤í¬ë˜í•‘í•©ë‹ˆë‹¤."""
    import requests
    from bs4 import BeautifulSoup

    response = requests.get(url)
    soup = BeautifulSoup(response.content, 'html.parser')
    return soup.get_text()[:5000]  # ì²˜ìŒ 5000ìë§Œ

@tool
def analyze(text: str) -> dict:
    """í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤."""
    return {
        "length": len(text),
        "words": len(text.split()),
        "sentences": text.count('.')
    }
```

### í•˜ìœ„ ì—ì´ì „íŠ¸ ì •ì˜

```python
from deep_agents import Agent

# Research Sub-agent
research_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[search, scrape],
    system_prompt="""
    ì „ë¬¸ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸

    ## ëª©í‘œ
    ì£¼ì–´ì§„ ì£¼ì œì— ëŒ€í•´ ì² ì €íˆ ì¡°ì‚¬

    ## í”„ë¡œì„¸ìŠ¤
    1. ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ì •ë³´ ìˆ˜ì§‘
    2. ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì¶œì²˜ ìš°ì„ 
    3. í•µì‹¬ ì •ë³´ ì¶”ì¶œ
    4. ê²°ê³¼ë¥¼ êµ¬ì¡°í™”ëœ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬
    """
)

# Analysis Sub-agent
analysis_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[analyze],
    system_prompt="""
    ì „ë¬¸ ë¶„ì„ ì—ì´ì „íŠ¸

    ## ëª©í‘œ
    ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ ë¶„ì„í•˜ê³  ì¸ì‚¬ì´íŠ¸ ë„ì¶œ

    ## í”„ë¡œì„¸ìŠ¤
    1. ë°ì´í„° íŒ¨í„´ íŒŒì•…
    2. í•µì‹¬ ì¸ì‚¬ì´íŠ¸ ì¶”ì¶œ
    3. ê²°ë¡  ë„ì¶œ
    4. ì‹¤í–‰ ê°€ëŠ¥í•œ ì œì•ˆ ì‘ì„±
    """
)
```

### ë©”ì¸ ì—ì´ì „íŠ¸ ì •ì˜

```python
main_agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[],
    subagents={
        "research": research_agent,
        "analysis": analysis_agent
    },
    system_prompt="""
    í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ì—ì´ì „íŠ¸

    ## ëª©í‘œ
    ë³µì¡í•œ ë¦¬ì„œì¹˜ í”„ë¡œì íŠ¸ë¥¼ ê´€ë¦¬í•˜ê³  ì™„ë£Œ

    ## í”„ë¡œì„¸ìŠ¤
    1. í”„ë¡œì íŠ¸ë¥¼ í•˜ìœ„ ì‘ì—…ìœ¼ë¡œ ë¶„í•´ (write_todos)
    2. ê° ì‘ì—…ì„ ì ì ˆí•œ í•˜ìœ„ ì—ì´ì „íŠ¸ì— ìœ„ì„ (task)
    3. ì¤‘ê°„ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ì €ì¥ (write_file)
    4. ëª¨ë“  ê²°ê³¼ë¥¼ ì¢…í•©í•˜ì—¬ ìµœì¢… ë³´ê³ ì„œ ì‘ì„±

    ## í•˜ìœ„ ì—ì´ì „íŠ¸
    - research: ì •ë³´ ìˆ˜ì§‘ ì „ë¬¸
    - analysis: ë°ì´í„° ë¶„ì„ ì „ë¬¸

    ## ì œì•½ì‚¬í•­
    - ëª¨ë“  ì¤‘ìš”í•œ ì •ë³´ëŠ” íŒŒì¼ë¡œ ì €ì¥
    - ê° ì‘ì—… ì™„ë£Œ í›„ todo ìƒíƒœ ì—…ë°ì´íŠ¸
    - ìµœì¢… ë³´ê³ ì„œëŠ” ë°˜ë“œì‹œ final_report.txtì— ì €ì¥
    """
)
```

### ì‹¤í–‰

```python
result = main_agent.invoke(
    """
    AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ ì‹œì¥ì„ ì¡°ì‚¬í•˜ê³  ë¶„ì„ ë³´ê³ ì„œ ì‘ì„±

    ì¡°ì‚¬ í•­ëª©:
    1. LangChainê³¼ LangGraphì˜ ì°¨ì´
    2. DeepAgentsì˜ í•µì‹¬ ê¸°ëŠ¥
    3. ê° í”„ë ˆì„ì›Œí¬ì˜ ì¥ë‹¨ì 
    4. ì‚¬ìš© ì‚¬ë¡€ ë° ì ìš© ë¶„ì•¼
    """
)

print(result["messages"][-1].content)
```

### ì‹¤í–‰ íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
User: "AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ ì¡°ì‚¬"
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Main Agent (Project Manager)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    write_todos([
        "LangChain/LangGraph ì¡°ì‚¬",
        "DeepAgents í•µì‹¬ ê¸°ëŠ¥ ì¡°ì‚¬",
        "ì¥ë‹¨ì  ë¹„êµ ë¶„ì„",
        "ì‚¬ìš© ì‚¬ë¡€ ì¡°ì‚¬",
        "ìµœì¢… ë³´ê³ ì„œ ì‘ì„±"
    ])
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Task 1: LangChain    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    task("LangChain ì¡°ì‚¬", "research")
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Research Sub-agent          â”‚
    â”‚  - search("LangChain")       â”‚
    â”‚  - scrape(url)               â”‚
    â”‚  - ê²°ê³¼ ì •ë¦¬                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    write_file("langchain_research.txt", "...")
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Task 2: DeepAgents   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    task("DeepAgents ì¡°ì‚¬", "research")
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Research Sub-agent          â”‚
    â”‚  - search("DeepAgents")      â”‚
    â”‚  - scrape(docs)              â”‚
    â”‚  - í•µì‹¬ ê¸°ëŠ¥ ì¶”ì¶œ           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    write_file("deepagents_research.txt", "...")
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Task 3: ë¹„êµ ë¶„ì„    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    task("ì¥ë‹¨ì  ë¹„êµ", "analysis")
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Analysis Sub-agent          â”‚
    â”‚  - read_file("langchain...")  â”‚
    â”‚  - read_file("deepagents...")â”‚
    â”‚  - ë¹„êµ ë¶„ì„ ìˆ˜í–‰           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    write_file("comparison_analysis.txt", "...")
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Task 4: ì‚¬ìš© ì‚¬ë¡€    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    task("ì‚¬ìš© ì‚¬ë¡€ ì¡°ì‚¬", "research")
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Research Sub-agent          â”‚
    â”‚  - search("use cases")       â”‚
    â”‚  - ì‹¤ì œ ì‚¬ë¡€ ìˆ˜ì§‘           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    write_file("use_cases.txt", "...")
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Task 5: ìµœì¢… ë³´ê³ ì„œ  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    read_file("langchain_research.txt")
    read_file("deepagents_research.txt")
    read_file("comparison_analysis.txt")
    read_file("use_cases.txt")
        â†“
    ì¢…í•© ë¶„ì„ ë° ë³´ê³ ì„œ ì‘ì„±
        â†“
    write_file("final_report.txt", "...")
```

---

## ğŸ”— LangGraphì™€ì˜ ê´€ê³„

DeepAgentsëŠ” LangGraph ìœ„ì— êµ¬ì¶•ëœ ìƒìœ„ ë ˆë²¨ í”„ë ˆì„ì›Œí¬

### LangGraph ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

```python
from deep_agents import Agent

agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[search]
)

# 1. ë™ê¸° ì‹¤í–‰
result = agent.invoke("ê²€ìƒ‰ ìˆ˜í–‰")

# 2. ìŠ¤íŠ¸ë¦¬ë°
for chunk in agent.stream("ê²€ìƒ‰ ìˆ˜í–‰"):
    print(chunk)

# 3. ë¹„ë™ê¸° ì‹¤í–‰
result = await agent.ainvoke("ê²€ìƒ‰ ìˆ˜í–‰")

# 4. ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¬ë°
async for chunk in agent.astream("ê²€ìƒ‰ ìˆ˜í–‰"):
    print(chunk)

# 5. ìƒíƒœ ì¡°íšŒ
state = agent.get_state(config)
print(state["values"])
print(state["next"])

# 6. ìƒíƒœ ì—…ë°ì´íŠ¸
agent.update_state(config, {"key": "value"})

# 7. ìƒíƒœ íˆìŠ¤í† ë¦¬
for state in agent.get_state_history(config):
    print(state)
```

### LangGraph ê·¸ë˜í”„ ì ‘ê·¼

```python
# ë‚´ë¶€ ê·¸ë˜í”„ ì§ì ‘ ì ‘ê·¼
graph = agent.graph

# LangGraph ë©”ì„œë“œ ì‚¬ìš©
compiled = graph.compile()
result = compiled.invoke(...)

# ì‹œê°í™”
from IPython.display import Image, display

display(Image(graph.get_graph().draw_mermaid_png()))
```

### ì»¤ìŠ¤í…€ ë…¸ë“œ ì¶”ê°€

```python
from langgraph.graph import StateGraph

# ê¸°ë³¸ Agent ìƒì„±
agent = Agent(...)

# ë‚´ë¶€ ê·¸ë˜í”„ ì ‘ê·¼
graph = agent.graph

# ì»¤ìŠ¤í…€ ë…¸ë“œ ì¶”ê°€
def custom_node(state):
    # ì»¤ìŠ¤í…€ ë¡œì§
    return {"messages": state["messages"]}

graph.add_node("custom", custom_node)
graph.add_edge("agent", "custom")

# ì¬ì»´íŒŒì¼
agent.graph = graph
```

---

## ğŸ“Š ë¹„êµ ë° ì •ë¦¬

### ê¸°ì¡´ Agent vs DeepAgents

| í•­ëª© | ê¸°ì¡´ Agent | DeepAgents |
|------|-----------|-----------|
| **ì•„í‚¤í…ì²˜** | Shallow (LLM â†’ Tool ë£¨í”„) | Deep (Planning + Filesystem + SubAgents) |
| **ì‘ì—… ë¶„í•´** | âŒ ì—†ìŒ | âœ… write_todosë¡œ ì²´ê³„ì  ë¶„í•´ |
| **ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬** | âŒ ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ë§Œ | âœ… íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì˜¤í”„ë¡œë“œ |
| **ë³µì¡í•œ ì‘ì—…** | âŒ ì‹¤íŒ¨í•˜ê¸° ì‰¬ì›€ | âœ… íš¨ê³¼ì ìœ¼ë¡œ ì²˜ë¦¬ |
| **í•˜ìœ„ ì‘ì—… ìœ„ì„** | âŒ ë¶ˆê°€ëŠ¥ | âœ… task ë„êµ¬ë¡œ ì „ë¬¸ ì—ì´ì „íŠ¸ì— ìœ„ì„ |
| **ì¥ê¸° ë©”ëª¨ë¦¬** | âŒ ì—†ìŒ | âœ… íŒŒì¼ ì‹œìŠ¤í…œ + Store |
| **ì‚¬ìš© ë‚œì´ë„** | ê°„ë‹¨ | ì¤‘ê°„ (ë” ë§ì€ ì„¤ì • í•„ìš”) |

### ì–¸ì œ DeepAgentsë¥¼ ì„ íƒí• ê¹Œ?

âœ… **DeepAgents ì„ íƒ**
- [ ] ë³µì¡í•œ ë‹¤ë‹¨ê³„ ì‘ì—… (ë¦¬ì„œì¹˜, ì½”ë”©, ë¶„ì„ ë“±)
- [ ] ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì˜¤ë²„í”Œë¡œìš° ìš°ë ¤
- [ ] ì‘ì—… ì§„í–‰ ìƒí™© ì¶”ì  í•„ìš”
- [ ] ì „ë¬¸í™”ëœ í•˜ìœ„ ì—ì´ì „íŠ¸ í•„ìš”
- [ ] ì¥ê¸° ë©”ëª¨ë¦¬ í•„ìš”

âŒ **ê¸°ì¡´ Agent ì„ íƒ**
- [ ] ë‹¨ìˆœí•œ ì‘ì—… (ë‹¨ì¼ ê²€ìƒ‰, ê°„ë‹¨í•œ ì§ˆë¬¸)
- [ ] ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘
- [ ] ìµœì†Œí•œì˜ ì„¤ì •ìœ¼ë¡œ ì‹œì‘
- [ ] ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ë‚´ì—ì„œ ì™„ë£Œ ê°€ëŠ¥

---

## ğŸ“ í•µì‹¬ ìš”ì•½

### DeepAgentsì˜ 4ê°€ì§€ í•µì‹¬ ìš”ì†Œ

1. **Planning Tool** (`write_todos`)
   - ë³µì¡í•œ ì‘ì—…ì„ ê´€ë¦¬ ê°€ëŠ¥í•œ ë‹¨ìœ„ë¡œ ë¶„í•´
   - ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ì¶”ì 
   - ì¤‘ê°„ ê²°ê³¼ ì €ì¥ìœ¼ë¡œ ì¬ì‹œì‘ ìš©ì´

2. **File System** (`ls`, `read_file`, `write_file`, `edit_file`)
   - ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì˜¤ë²„í”Œë¡œìš° ë°©ì§€
   - ì¥ê¸° ë©”ëª¨ë¦¬ë¡œ í™œìš©
   - ì¤‘ê°„ ê²°ê³¼ ì˜êµ¬ ì €ì¥

3. **Sub-agents** (`task` ë„êµ¬)
   - ì „ë¬¸í™”ëœ í•˜ìœ„ ì—ì´ì „íŠ¸ë¡œ ì‘ì—… ìœ„ì„
   - ì»¨í…ìŠ¤íŠ¸ ê²©ë¦¬ë¡œ í˜¼ë€ ë°©ì§€
   - ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥

4. **Detailed Prompt**
   - ë„ë©”ì¸ë³„ ìµœì í™”ëœ í”„ë¡¬í”„íŠ¸
   - ëª…í™•í•œ ëª©í‘œì™€ í”„ë¡œì„¸ìŠ¤ ì •ì˜
   - êµ¬ì²´ì ì¸ ì˜ˆì‹œ í¬í•¨

### ì„¤ì¹˜ ë° ì‹œì‘

```bash
pip install deep-agents
```

```python
from deep_agents import Agent

agent = Agent(
    model="claude-3-5-sonnet-20241022",
    tools=[your_tools],
    system_prompt="ìƒì„¸í•œ í”„ë¡¬í”„íŠ¸..."
)

result = agent.invoke("ë³µì¡í•œ ì‘ì—… ìˆ˜í–‰")
```

### ì£¼ìš” íŠ¹ì§•

- **LangGraph ê¸°ë°˜**: ëª¨ë“  LangGraph ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥
- **ëª¨ë“ˆì‹ ì•„í‚¤í…ì²˜**: Middlewareë¡œ ê¸°ëŠ¥ í™•ì¥ ìš©ì´
- **Human-in-the-Loop**: ì¤‘ìš”í•œ ì§€ì ì—ì„œ ì‚¬ëŒ ê°œì… ê°€ëŠ¥
- **MCP í†µí•©**: í‘œì¤€í™”ëœ ë„êµ¬ ì¸í„°í˜ì´ìŠ¤

### ì ìš© ë¶„ì•¼

- ë³µì¡í•œ ë¦¬ì„œì¹˜ í”„ë¡œì íŠ¸
- ë©€í‹° ìŠ¤í… ì½”ë”© ì‘ì—…
- ë°ì´í„° ë¶„ì„ ë° ë³´ê³ ì„œ ì‘ì„±
- í”„ë¡œì íŠ¸ ê´€ë¦¬ ë° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- ì¥ê¸° ì‹¤í–‰ ì›Œí¬í”Œë¡œìš°

---

## ì°¸ê³  ìë£Œ

- [DeepAgents GitHub](https://github.com/langchain-ai/deep-agents)
- [LangGraph ë¬¸ì„œ](https://langchain-ai.github.io/langgraph/)
- [Claude Code](https://claude.ai/code)
- [Deep Research](https://www.anthropic.com/research/deep-research)

---

**ë‹¤ìŒ ë‹¨ê³„**
1. DeepAgents ì„¤ì¹˜
2. ê¸°ë³¸ ì˜ˆì œ ì‹¤í–‰
3. ë„ë©”ì¸ë³„ í”„ë¡¬í”„íŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•
4. í•˜ìœ„ ì—ì´ì „íŠ¸ ì¶”ê°€
5. ì‹¤ì œ í”„ë¡œì íŠ¸ì— ì ìš©
